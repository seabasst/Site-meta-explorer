---
phase: 04-display
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/components/demographics/scrape-config.tsx
autonomous: true

must_haves:
  truths:
    - "Recharts library is installed and available for import"
    - "User can see and modify the number of ads to analyze"
  artifacts:
    - path: "package.json"
      provides: "Recharts dependency"
      contains: "recharts"
    - path: "src/components/demographics/scrape-config.tsx"
      provides: "Configuration input component"
      exports: ["ScrapeConfig"]
  key_links:
    - from: "src/components/demographics/scrape-config.tsx"
      to: "React state"
      via: "controlled input with onChange callback"
      pattern: "onChange.*onMaxAdsChange"
---

<objective>
Install Recharts charting library and create configuration input component for ad count.

Purpose: Establish foundation for demographics display - charting library for visualizations and user control over analysis scope.
Output: Recharts installed, ScrapeConfig component ready for integration.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04-display/04-RESEARCH.md

Reference for existing patterns:
@src/app/page.tsx
@src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Recharts</name>
  <files>package.json</files>
  <action>
Run `npm install recharts` to add the charting library.

If peer dependency warnings appear for react-is, add to package.json:
```json
"overrides": {
  "react-is": "^19.0.0"
}
```
Then run `npm install` again.

Verify installation succeeds without errors.
  </action>
  <verify>
- `npm ls recharts` shows version 2.12+
- `npm run build` passes (or at least doesn't fail due to recharts)
  </verify>
  <done>Recharts is installed and available for import in project</done>
</task>

<task type="auto">
  <name>Task 2: Create ScrapeConfig component</name>
  <files>src/components/demographics/scrape-config.tsx</files>
  <action>
Create `src/components/demographics/` directory and add `scrape-config.tsx`.

Component requirements:
- Props: `maxAds: number`, `onMaxAdsChange: (value: number) => void`, `disabled?: boolean`
- Number input with min=1, max=50, clamped on change
- Use existing input-field class from globals.css
- Label text: "Ads to analyze:"
- Helper text: "(1-50, more = slower but more accurate)"

Follow the code example from RESEARCH.md:
```typescript
'use client';

interface ScrapeConfigProps {
  maxAds: number;
  onMaxAdsChange: (value: number) => void;
  disabled?: boolean;
}

export function ScrapeConfig({ maxAds, onMaxAdsChange, disabled }: ScrapeConfigProps) {
  return (
    <div className="flex items-center gap-4">
      <label className="text-sm text-[var(--text-secondary)]">
        Ads to analyze:
      </label>
      <input
        type="number"
        min={1}
        max={50}
        value={maxAds}
        onChange={(e) => onMaxAdsChange(Math.max(1, Math.min(50, parseInt(e.target.value) || 10)))}
        disabled={disabled}
        className="input-field w-20 text-center"
      />
      <span className="text-xs text-[var(--text-muted)]">
        (1-50, more = slower but more accurate)
      </span>
    </div>
  );
}
```
  </action>
  <verify>
- File exists at src/components/demographics/scrape-config.tsx
- TypeScript compiles: `npx tsc --noEmit`
- Export is named `ScrapeConfig`
  </verify>
  <done>ScrapeConfig component created with number input, label, helper text, and proper TypeScript types</done>
</task>

</tasks>

<verification>
- `npm ls recharts` shows installed version
- `src/components/demographics/scrape-config.tsx` exists
- `npx tsc --noEmit` passes with no type errors
</verification>

<success_criteria>
1. Recharts ^2.12+ is in package.json dependencies
2. ScrapeConfig component accepts maxAds/onMaxAdsChange props
3. Input field is constrained to 1-50 range
4. TypeScript compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/04-display/04-01-SUMMARY.md`
</output>
