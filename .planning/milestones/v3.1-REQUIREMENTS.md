# Requirements Archive: v3.1 Competitive Intelligence

**Archived:** 2026-02-03
**Status:** ✅ SHIPPED

This is the archived requirements specification for v3.1.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: Ad Library Demographics Analyzer

**Defined:** 2026-02-02
**Milestone:** v3.1 Competitive Intelligence
**Core Value:** Surface who competitors are reaching with their ads — demographics and geography aggregated from their top performers.

## v1 Requirements

Requirements for v3.1 release. Each maps to roadmap phases.

### Brand Comparison

- [x] **COMP-01**: User can select 2 saved brands for side-by-side comparison
- [x] **COMP-02**: User can view butterfly chart showing age-gender distribution for both brands (Brand A left, Brand B right)
- [x] **COMP-03**: User can view paired horizontal bar chart comparing country distribution for both brands
- [x] **COMP-04**: User can view summary metrics table with reach, ad count, and dominant demographic for both brands side by side
- [x] **COMP-05**: User sees empty state with guidance when fewer than 2 brands are saved

### Hook Extraction

- [x] **HOOK-01**: System extracts first sentence (opening hook) from each ad's creative body text during analysis
- [x] **HOOK-02**: System groups identical hooks after normalization (lowercase, strip punctuation/emojis, trim)
- [x] **HOOK-03**: Each hook group shows frequency count, total reach, and average reach per ad
- [x] **HOOK-04**: User can view hooks as card list ranked by reach-weighted frequency
- [x] **HOOK-05**: User can search/filter hooks by text
- [x] **HOOK-06**: User can expand a hook group to see all ads using that hook
- [x] **HOOK-07**: Hooks are persisted for saved brands (available on brand detail page without re-analysis)

### Pattern Observations

- [x] **OBSV-01**: System auto-generates dominant demographic skew observation (e.g., "Skews 25-34 male, 42% of reach")
- [x] **OBSV-02**: System auto-generates gender imbalance observation when one gender exceeds 60% of reach
- [x] **OBSV-03**: System auto-generates geographic concentration observation when top 2 countries exceed 50% of reach
- [x] **OBSV-04**: System auto-generates hook pattern observation showing most common hook and its frequency
- [x] **OBSV-05**: User can view up to 5 observation cards at top of brand detail page, ranked by signal magnitude
- [x] **OBSV-06**: Observations are hidden entirely when no significant patterns are detected

## v2 Requirements

Deferred to future release. Tracked but not in current roadmap.

### Trend Charts

- **TRND-01**: User can view age distribution changes across snapshots as line chart
- **TRND-02**: User can view gender split changes across snapshots as line chart
- **TRND-03**: User can view top country changes across snapshots as line chart
- **TRND-04**: User sees tabbed interface (Age | Gender | Country) for trend views
- **TRND-05**: User sees empty state with re-analyze CTA for brands with only 1 snapshot

### Temporal Observations

- **OBSV-07**: System auto-generates temporal shift observations (e.g., "Top country shifted DE→FR since last analysis")
- **OBSV-08**: System auto-generates age shift observations across snapshots

## Out of Scope

Explicitly excluded. Documented to prevent scope creep.

| Feature | Reason |
|---------|--------|
| AI/LLM-powered insights | Cost, latency, hallucination risk at sub-$50/mo pricing |
| Fuzzy/semantic hook clustering | Over-engineering for v3.1; simple normalization first |
| N-way brand comparison (3+) | Butterfly charts only work with 2; visually cluttered beyond that |
| Video hook transcription | Different infrastructure (speech-to-text, video download) |
| Real-time competitor monitoring | Major infra investment (cron, queues, notifications) |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| HOOK-01 | Phase 28 | Complete |
| HOOK-02 | Phase 28 | Complete |
| HOOK-03 | Phase 28 | Complete |
| HOOK-07 | Phase 28 | Complete |
| HOOK-04 | Phase 29 | Complete |
| HOOK-05 | Phase 29 | Complete |
| HOOK-06 | Phase 29 | Complete |
| COMP-01 | Phase 30 | Complete |
| COMP-02 | Phase 30 | Complete |
| COMP-03 | Phase 30 | Complete |
| COMP-04 | Phase 30 | Complete |
| COMP-05 | Phase 30 | Complete |
| OBSV-01 | Phase 31 | Complete |
| OBSV-02 | Phase 31 | Complete |
| OBSV-03 | Phase 31 | Complete |
| OBSV-04 | Phase 31 | Complete |
| OBSV-05 | Phase 31 | Complete |
| OBSV-06 | Phase 31 | Complete |

**Coverage:**
- v1 requirements: 18 total
- Mapped to phases: 18 ✓
- Unmapped: 0

---

## Milestone Summary

**Shipped:** 18 of 18 v1 requirements
**Adjusted:** None — all requirements shipped as originally specified
**Dropped:** None

---
*Archived: 2026-02-03 as part of v3.1 milestone completion*
